(this.webpackJsonpgame_platform=this.webpackJsonpgame_platform||[]).push([[0],{20:function(e,t,n){e.exports=n(35)},30:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(17),o=n.n(r),l=n(1),u=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{src:"https://image.freepik.com/free-vector/joystick-gamer-logo_6689-10.jpg",alt:"logo platforme"}))},s=n(4),i=n(7),m=Object(i.f)((function(e){var t=e.logedIn,n=e.setUser,a=(e.history,e.user);return t?c.a.createElement("header",null,c.a.createElement("nav",null,c.a.createElement(s.b,{to:"/"},c.a.createElement(u,null)),c.a.createElement("hr",null),c.a.createElement("div",{className:"nav-items"},c.a.createElement(s.b,{to:"/profile/".concat(a.user_id)},a.username),c.a.createElement(s.b,{to:"/"},c.a.createElement("button",{className:"header-btn",id:"logout-btn",onClick:function(){return n()}},"\u041e\u0434\u0458\u0430\u0432\u0438 \u0441\u0435")),c.a.createElement(s.b,{to:"/memory-game"},c.a.createElement("button",{className:"header-btn"},"\u0418\u0433\u0440\u0435 \u043c\u0435\u043c\u043e\u0440\u0438\u0458\u0435"))))):c.a.createElement("header",{className:"header"},c.a.createElement("nav",null,c.a.createElement(s.b,{to:"/"},c.a.createElement(u,null)),c.a.createElement("hr",null),c.a.createElement("div",{className:"nav-items"},c.a.createElement(s.b,{to:"/register"},c.a.createElement("button",{className:"header-btn"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0458\u0430")),c.a.createElement(s.b,{to:"/login"},c.a.createElement("button",{className:"header-btn"},"\u041f\u0440\u0438\u0458\u0430\u0432\u0438 \u0441\u0435")))))})),p=function(e){return c.a.createElement("footer",{className:"footer"},c.a.createElement("p",{className:"company-desc"},"\u041d\u0430\u0458\u0458\u0430\u0447\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0458\u0430 \u043d\u0430 \u0441\u0432\u0435\u0442\u0443"),c.a.createElement("p",null,"\xa9 \u0408\u0430"),c.a.createElement(u,null))},f=(n(30),"https://coetus.herokuapp.com"),E="/api/gamer",h="/memory/cards",d="/users",b="/scores";function g(e){return fetch("".concat(f).concat(E).concat(d,"/").concat(e)).then((function(e){return e.json()}))}function j(e){return 1e3/e}var O=function(e){var t=e.score,n=e.userID,r=e.history,o=Object(a.useState)(""),u=Object(l.a)(o,2),s=u[0],i=u[1];return Object(a.useEffect)((function(){g(n).then((function(e){!1!==e.success&&i(e.user.username)}))}),[n]),c.a.createElement("li",{onClick:function(){r.push("/profile/".concat(n))}},t," ",s)},y=function(e){var t=e.history,n=Object(a.useState)([]),r=Object(l.a)(n,2),o=r[0],u=r[1];return Object(a.useEffect)((function(){fetch("".concat(f).concat(E).concat(b)).then((function(e){return e.json()})).then((function(e){u(e.data)}))}),[]),c.a.createElement("ol",null,o.sort((function(e,t){return t.score-e.score})).slice(0,10).map((function(e){return c.a.createElement(O,{key:e.score_id,score:e.score,userID:e.user_id,history:t})})))},v=function(e){var t=e.setUser,n=e.history,r=Object(a.useState)(""),o=Object(l.a)(r,2),u=o[0],s=o[1],i=Object(a.useState)(""),m=Object(l.a)(i,2),p=m[0],h=m[1],d=Object(a.useState)(""),g=Object(l.a)(d,2),j=g[0],O=g[1],y=Object(a.useState)(""),v=Object(l.a)(y,2),S=v[0],k=v[1],I=Object(a.useState)(""),N=Object(l.a)(I,2),x=N[0],C=N[1],T=Object(a.useState)(""),_=Object(l.a)(T,2),U=_[0],A=_[1],q=Object(a.useState)(!1),w=Object(l.a)(q,2),F=w[0],J=w[1],z=Object(a.useState)(!1),D=Object(l.a)(z,2),P=D[0],B=D[1];function H(){var e;F&&P&&(e={name:u,surname:p,username:j,email:S,password:x},fetch("".concat(f).concat(E).concat(b),{headers:{"Content-Type":"application/json; charset=utf-8"},method:"PUT",body:JSON.stringify(e)}).then((function(e){return e.json()}))).then((function(e){e.success?(t(e.user),n.push("/memory-game")):console.log("\u041d\u0435\u0443\u0441\u043f\u0435\u0448\u043d\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0458\u0430")}))}return Object(a.useEffect)((function(){console.log(x),/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/g.test(x)?J(!0):J(!1)}),[x]),Object(a.useEffect)((function(){B(U===x),console.log(U===x)}),[U,x]),c.a.createElement("form",null,c.a.createElement("input",{type:"text",placeholder:"\u0418\u043c\u0435",required:!0,onInput:function(e){s(e.target.value)}}),c.a.createElement("input",{type:"text",placeholder:"\u041f\u0440\u0435\u0437\u0438\u043c\u0435",required:!0,onInput:function(e){h(e.target.value)}}),c.a.createElement("input",{type:"text",placeholder:"\u041a\u043e\u0440\u0438\u0441\u043d\u0438\u0447\u043a\u043e \u0438\u043c\u0435",required:!0,onInput:function(e){O(e.target.value)}}),c.a.createElement("input",{type:"email",placeholder:"Email",required:!0,onInput:function(e){k(e.target.value)}}),c.a.createElement("input",{type:"password",placeholder:"\u0428\u0438\u0444\u0440\u0430",required:!0,onInput:function(e){C(e.target.value)}}),c.a.createElement("input",{type:"password",placeholder:"\u041f\u043e\u0442\u0432\u0440\u0434\u0438 \u0448\u0438\u0444\u0440\u0443",required:!0,onInput:function(e){A(e.target.value)}}),c.a.createElement("input",{type:"submit",value:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0443\u0458 \u0441\u0435",onClick:function(e){e.preventDefault(),H()}}))},S=Object(i.f)((function(e){var t=e.setUser,n=e.history,r=Object(a.useState)(""),o=Object(l.a)(r,2),u=o[0],s=o[1],i=Object(a.useState)(""),m=Object(l.a)(i,2),p=m[0],h=m[1];function b(){var e;(e={email:u,password:p},fetch("".concat(f).concat(E).concat(d),{headers:{"Content-Type":"application/json; charset=utf-8"},method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()}))).then((function(e){e.success?(t(e.user),n.push("/memory-game")):console.log("\u041d\u0438\u0458\u0435 \u0443\u043b\u043e\u0433\u043e\u0432\u0430\u043d")}))}return c.a.createElement("form",null,c.a.createElement("input",{type:"email",placeholder:"Email",required:!0,onInput:function(e){s(e.target.value)}}),c.a.createElement("input",{type:"password",placeholder:"\u0428\u0438\u0444\u0440\u0430",required:!0,onInput:function(e){h(e.target.value)}}),c.a.createElement("input",{type:"submit",value:"\u0423\u043b\u043e\u0433\u0443\u0458 \u0441\u0435",onClick:function(e){e.preventDefault(),b()}}))})),k=function(e){var t=e.match,n=Object(a.useState)(t.params.user_id),r=Object(l.a)(n,1)[0],o=Object(a.useState)({}),u=Object(l.a)(o,2),s=u[0],i=u[1];return Object(a.useEffect)((function(){g(r).then((function(e){return i(e.user)}))}),[r]),c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,c.a.createElement("strong",null,"\u0418\u043c\u0435"),":   ",s.name),c.a.createElement("p",null,c.a.createElement("strong",null,"\u041f\u0440\u0435\u0437\u0438\u043c\u0435"),":   ",s.surname),c.a.createElement("p",null,c.a.createElement("strong",null,"\u041a\u043e\u0440\u0438\u0441\u043d\u0438\u0447\u043a\u043e \u0438\u043c\u0435"),":   ",s.username),c.a.createElement("p",null,c.a.createElement("strong",null,"E-mail"),":   ",s.email),c.a.createElement("img",{src:s.picture?s.picture:"",alt:"user-avatar"}))},I=n(11),N=n(10),x=n.n(N),C=function(e){var t=e.card,n=e.onClick,a=e.isFlipped;return c.a.createElement(x.a,{isFlipped:a,flipDirection:"horizontal",style:{width:"23%",height:"200px",margin:"5px",float:"left"}},c.a.createElement(N.FrontSide,{style:{backgroundColor:"#175852",fontSize:"80px",textAlign:"center",lineHeight:"11px"},onClick:n},"?"),c.a.createElement(N.BackSide,{style:{backgroundColor:"#175852",fontSize:"80px",textAlign:"center",lineHeight:"11px"}},t.data))},T=function(e){var t=e.user,n=Object(a.useState)([]),r=Object(l.a)(n,2),o=r[0],u=r[1],s=Object(a.useState)(0),i=Object(l.a)(s,2),m=i[0],p=i[1],d=Object(a.useState)([]),g=Object(l.a)(d,2),O=g[0],y=g[1],v=Object(a.useState)([]),S=Object(l.a)(v,2),k=S[0],N=S[1];Object(a.useEffect)((function(){var e,n=setTimeout((function(){p(m+1)}),1e3);k.length===o.length&&0!==k.length&&(clearTimeout(n),e={user_id:t.user_id,score:j(m),game_id:0},fetch("".concat(f).concat(E).concat(b),{headers:{"Content-Type":"application/json; charset=utf-8"},method:"PUT",body:JSON.stringify(e)}).then((function(e){return e.json()})))}),[m,o.length,k.length,t.user_id]),Object(a.useEffect)((function(){fetch("".concat(f).concat(E).concat(h)).then((function(e){return e.json()})).then((function(e){var t=[].concat(Object(I.a)(e.data),Object(I.a)(e.data));u(function(e){return Object(I.a)(e).sort((function(){return.5-Math.random()}))}(t))}))}),[]);return c.a.createElement("div",null,c.a.createElement("p",null,m),o.map((function(e,t){return c.a.createElement(C,{key:t,isFlipped:k.includes(t)||O.includes(t),card:e,onClick:function(){return function(e){console.log(e),0===O.length?y([e]):1===O.length&&(o[O[0]].data===o[e].data?(console.log("NASAO ISTE"),N(k.concat(O[0],e)),y([])):(console.log("NAPRAVIO TAJMAUT"),y([O[0],e]),setTimeout((function(){y([])}),850)))}(t)}})})))},_=function(e){var t=e.setUser,n=e.user;return c.a.createElement("main",{className:"main"},c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/",component:y}),c.a.createElement(i.a,{path:"/register",component:function(e){return c.a.createElement(v,Object.assign({setUser:t},e))}}),c.a.createElement(i.a,{path:"/login",component:function(e){return c.a.createElement(S,Object.assign({setUser:t},e))}}),c.a.createElement(i.a,{path:"/profile/:user_id",component:k}),c.a.createElement(i.a,{path:"/memory-game",component:function(){return c.a.createElement(T,{user:n})}})))},U=function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],r=t[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,null,c.a.createElement(m,{user:n,logedIn:n,setUser:r}),c.a.createElement(_,{setUser:r,user:n}),c.a.createElement(p,null)))};o.a.render(c.a.createElement(U,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.b2221dfe.chunk.js.map